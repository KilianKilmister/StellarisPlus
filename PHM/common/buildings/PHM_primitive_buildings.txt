#####################
# Primitive buildings
#####################

PHM_building_crude_dwellings = {
	capital = yes
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			has_country_flag = PHM_stone_age
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	planet_modifier = {
		planet_amenities_add = 5
		planet_housing_add = 4
		planet_crime_add = -10
	}

	upgrades = {
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 2
			free_housing < 0
		}
	}
}

PHM_building_primitive_hive_dwellings = {
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_bronze_age
				has_country_flag = PHM_iron_age
				has_country_flag = PHM_late_medieval_age
				has_country_flag = PHM_renaissance_age
				has_country_flag = PHM_steam_age
			}
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	planet_modifier = {
		planet_housing_add = 6
	}

	upgrades = {
	}

	ai_weight = {
		weight = 1
		modifier = {
			factor = 3
			free_housing < 0
		}
	}
}

PHM_building_central_node = {
	capital = yes
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_bronze_age
				has_country_flag = PHM_iron_age
				has_country_flag = PHM_late_medieval_age
				has_country_flag = PHM_renaissance_age
				has_country_flag = PHM_steam_age
			}
		}
	}

	destroy_trigger = {
		exists = owner
		owner = {
			is_primitive = no
		}
	}

	convert_to = {
		building_hive_capital
		building_machine_capital
		building_colony_shelter
	}

	planet_modifier = {
		job_PHM_primitive_noble_add = 1
		job_PHM_primitive_warrior_add = 1
		job_PHM_primitive_researcher_add = 1
		job_PHM_primitive_priest_add = 1
		planet_housing_add = 3
		planet_amenities_add = 25
		planet_crime_add = -10
	}

	upgrades = {
	}
}

PHM_building_primitive_hive_factory = {
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_steam_age
				has_country_flag = PHM_machine_age
				has_country_flag = PHM_industrial_age
				has_country_flag = PHM_atomic_age
				has_country_flag = PHM_early_space_age
			}
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	planet_modifier = {
		job_PHM_primitive_laborer_add = 2
	}

	upgrades = {
	}
}

PHM_building_primitive_hive_mine = {
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_steam_age
				has_country_flag = PHM_machine_age
				has_country_flag = PHM_industrial_age
				has_country_flag = PHM_atomic_age
				has_country_flag = PHM_early_space_age
			}
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	planet_modifier = {
		job_PHM_primitive_miner_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_lithoid_empire = yes }
		}

		job_PHM_primitive_miner_add = 8
	}

	upgrades = {
	}
}

PHM_building_primitive_hive_power_plant = {
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_steam_age
				has_country_flag = PHM_machine_age
				has_country_flag = PHM_industrial_age
				has_country_flag = PHM_atomic_age
				has_country_flag = PHM_early_space_age
			}
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	planet_modifier = {
		job_PHM_primitive_technician_add = 2
	}

	upgrades = {
	}
}

PHM_building_primitive_hive_farm = {
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_machine_age
				has_country_flag = PHM_industrial_age
				has_country_flag = PHM_atomic_age
				has_country_flag = PHM_early_space_age
			}
			is_lithoid_empire = no
		}
	}

	convert_to = {
		building_primitive_mine
	}

	destroy_trigger = {
		owner = {
			OR = {
				is_primitive = no
				AND = {
					exists = owner
					is_lithoid_empire = yes
				}
			}
		}
	}

	planet_modifier = {
		job_PHM_primitive_farmer_add = 10
	}

	upgrades = {
	}
}

PHM_building_primitive_hive_capital = {
	capital = yes
	can_build = no
	can_demolish = yes
	can_be_ruined = no

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_machine_age
				has_country_flag = PHM_industrial_age
				has_country_flag = PHM_atomic_age
				has_country_flag = PHM_early_space_age
			}
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	convert_to = {
		building_machine_capital
		building_capital
		building_hive_capital
	}

	planet_modifier = {
		job_PHM_primitive_bureaucrat_add = 2
		job_PHM_primitive_warrior_2_add = 2
		job_PHM_primitive_researcher_2_add = 2
		job_PHM_primitive_priest_2_add = 2
		planet_housing_add = 5
		planet_amenities_add = 25
		planet_crime_add = -20
	}

	upgrades = {
	}
}

PHM_building_urban_hive_dwellings = {
	can_build = no
	can_demolish = yes
	can_be_ruined = no
	icon = building_residence

	potential = {
		exists = owner
		owner = {
			is_primitive = yes
			OR = {
				has_country_flag = PHM_machine_age
				has_country_flag = PHM_industrial_age
				has_country_flag = PHM_atomic_age
				has_country_flag = PHM_early_space_age
			}
		}
	}

	destroy_trigger = {
		owner = {
			is_primitive = no
		}
	}

	planet_modifier = {
		planet_housing_add = 24
	}

	upgrades = {
	}
}